<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SL Live Monitor</title>
    <style>
        body { background-color: #0d0d0d; color: #00ff41; font-family: 'Courier New', monospace; padding: 20px; }
        h1 { border-bottom: 1px solid #333; padding-bottom: 10px; }
        #logs { margin-top: 20px; }
        .entry { 
            border-bottom: 1px solid #222; 
            padding: 8px 0; 
            animation: flash 1s; 
            white-space: pre-wrap; 
        }
        @keyframes flash { from { background-color: #222; } to { background-color: transparent; } }
        .timestamp { color: #666; font-size: 0.8em; margin-right: 10px; }
    </style>
</head>
<body>
    <h1>ðŸ”´ Live UUID Receiver</h1>
    <div id="status">Aguardando conexÃ£o...</div>
    <div id="logs"></div>

    <script src="/socket.io/socket.io.js"></script>
    <script>
        const socket = io();
        const logDiv = document.getElementById('logs');
        const statusDiv = document.getElementById('status');

        socket.on('connect', () => {
            statusDiv.innerText = "âœ“ Conectado ao servidor";
            statusDiv.style.color = "#00ff41";
        });

        socket.on('new-log', (msg) => {
            const div = document.createElement('div');
            div.className = 'entry';
            
            // Pega a hora atual
            const time = new Date().toLocaleTimeString();
            
            // Verifica se veio texto puro ou objeto
            const content = msg.text ? msg.text : JSON.stringify(msg);
            
            div.innerHTML = `<span class="timestamp">[${time}]</span> ${content}`;
            
            // Adiciona no topo da lista
            logDiv.prepend(div);
        });
    </script>
</body>
</html>